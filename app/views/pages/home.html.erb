<div class="text-container">
    <div class="text-slide">
        <h5>Aspiring software engineer looking for a job in Tokyo, Japan</h5>
        <p class="slide-link"><%= link_to "Read more", about_path %></p>
    </div>
    <div class="text-slide">
        <h5>Currently working on a Portfolio Project</h5>
        <p class="slide-link"><%= link_to "View Projects", projects_path %></p>
    </div>
    <div class="text-slide">
        <h5>My favorite project has been </h5>
        <p class="slide-link"><%= link_to "Project-name", "#" %></p>
    </div>
</div>

<div class="home-container">
    <% if @preview_projects.empty? %>
        <div class="sub-title">
            <h5>Currently working on projects...</h5>
        </div>
    <% else %>
        <div class="sub-title">
            <h5>LATEST PROJECTS</h5>
        </div>
        <div class="grid-container">
            <div class="preview-project-one">
                <% if @preview_projects.image.attached? %>
                    <%= link_to (cl_image_tag  @preview_projects[0].project_image.key, overflow: :hidden), project_path(@preview_projects[0]) %>
                <% end %>
                <div class="preview-cover">
                    <div class="preview-text">
                        <%= link_to @preview_projects[0].title, project_path(@preview_projects[0]) %>
                    </div>
                    <div class="mySkills-btn">
                        <% @preview_projects[0].programmes.each do |programme| %>
                            <%= link_to programme.name, programme_path(programme) %>
                        <% end %>
                    </div>
                </div>
            </div>
            <div class="preview-project-two">
                <% if @preview_projects.image.attached? %>
                    <%= link_to (cl_image_tag  @preview_projects[1].project_image.key, overflow: :hidden), project_path(@preview_projects[1]) %>
                <% end %>
                <div class="preview-cover">
                    <div class="preview-text">
                        <%= link_to @preview_projects[1].title, project_path(@preview_projects[1]) %>
                    </div>
                    <div class="preview-programmes">
                        <% @preview_projects[1].programmes.each do |programme| %>
                            <%= link_to programme.name, programme_path(programme) %>
                        <% end %>
                    </div>
                </div>
            </div>
            <div class="preview-project-three">
                <% if @preview_projects.image.attached? %>
                    <%= link_to (cl_image_tag  @preview_projects[2].project_image.key, overflow: :hidden), project_path(@preview_projects[2]) %>
                <% end %>
                <div class="preview-cover">
                    <div class="preview-text">
                        <%= link_to @preview_projects[2].title, project_path(@preview_projects[2]) %>
                    </div>
                    <div class="preview-programmes">
                        <% @preview_projects[2].programmes.each do |programme| %>
                            <%= link_to programme.name, programme_path(programme) %>
                        <% end %>
                    </div>
                </div>
            </div>
        </div>
    <div class="basic-btn">
        <h5><%= link_to "VIEW MORE PROJECTS", projects_path %></h5>
    </div>
    <% end %>
</div>

<script>
    var slideIndex = 0;
    showSlides();

    function showSlides() {
      var i;
      var slides = document.getElementsByClassName("text-slide");
      for (i = 0; i < slides.length; i++) {
        slides[i].style.display = "none";
      }
      slideIndex++;
      if (slideIndex > slides.length) {slideIndex = 1}
      slides[slideIndex-1].style.display = "block";
      setTimeout(showSlides, 4000);
    }
</script>

